<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OrarioDoc - Gestione Orari</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#2196F3">
</head>
<body>
  <header class="topbar">
    <h1>OrarioDoc</h1>
    <div class="controls">
      <button id="settingsBtn" aria-label="Impostazioni">⚙️</button>
      <button id="addBtn" aria-label="Aggiungi Lezione">+ Aggiungi</button>
    </div>
  </header>

  <main>
    <section id="scheduleGrid" class="schedule-grid">
      <!-- Schedule grid will be rendered here -->
    </section>

    <section id="addPanel" class="panel hidden" aria-hidden="true">
      <h2>Nuova Lezione</h2>
      <form id="lessonForm">
        <label>
          Nome:
          <input type="text" id="lessonName" required>
        </label>
        <label>
          Giorno:
          <input type="text" id="lessonDay" required>
        </label>
        <label>
          Ora:
          <input type="time" id="lessonTime" required>
        </label>
        <div class="form-actions">
          <button type="button" id="saveBtn">Salva</button>
          <button type="button" id="cancelBtn">Annulla</button>
        </div>
      </form>
    </section>
  </main>

  <script src="/src/storage.js" defer></script>
  <script src="/src/schedule-grid.js" defer></script>
  <script src="/src/main.js" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(reg => console.log('Service Worker registered', reg))
        .catch(err => console.error('Service Worker registration failed', err));
    }
  </script>
</body>
</html>
